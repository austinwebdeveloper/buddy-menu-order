!function(t,i,s){"use strict";var n=i.Modernizr,e=null,o=!1;t.PMTestimonials=function(i,s){this.$el=t(s),this._init(i)},t.PMTestimonials.defaults={speed:500,slideShow:!1,slideShowSpeed:4e3,controlNav:!1,arrows:!0},t.PMTestimonials.prototype={_init:function(i){this.options=t.extend(!0,{},t.PMTestimonials.defaults,i),this._config(),this._initEvents()},_config:function(){this.support=n.csstransitions&&n.csstransforms,this.support3d=n.csstransforms3d;var s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},e={WebkitTransform:"-webkit-transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",transform:"transform"};if(this.support&&(this.transEndEventName=s[n.prefixed("transition")]+".PMTestimonials",this.transformName=e[n.prefixed("transform")]),this.$items=this.$el.children("li"),this.$items.eq(0).addClass("active"),this.$items.eq(0).find(".pm-testimonials-widget-name p").addClass("active"),this.itemsCount=this.$items.length,this.current=0,this.old=0,this.isAnimating=!1,this.itemsCount>1){for(var o="",a=this.itemsCount,r=0;a>r;++r){var l=r===this.current?'<li><span class="pm-testimonial-active"></span></li>':"<li><span></span></li>";o+=l}t("#pm-testimonials-carousel-bullets").append(o);this.$navDots=t("#pm-testimonials-carousel-bullets").children("li"),this.$navDots.eq(0).addClass("pm-testimonial-active"),this.options.slideShow&&this._runSlideShow("start")}this._resize(),t(i).resize(this._resize)},_initEvents:function(){var i=this;this.itemsCount>1&&(this.options.controlNav===!0&&this.$navDots.on("click",function(){i._jump(t(this).index()),i.options.slideShow&&i._runSlideShow("pause")}),this.options.arrows===!0&&i._activateArrows())},_activateArrows:function(){var i=this;t("#pm-testimonials-arrows").children("li").each(function(s,n){var e=t(this);e.click(function(s){i.old=i.current;var n=t(this).find("a").attr("id");i.isAnimating=!0,i._runSlideShow("pause"),"pm-next"==n?(i.current++,i.current>i.itemsCount-1&&(i.current=0)):"pm-prev"==n&&(i.current--,i.current<0&&(i.current=i.itemsCount-1)),i._fade(),s.preventDefault()})})},_resize:function(){var i=t(".pm-testimonials-widget-quotes").children("li");i.each(function(i,s){var n=t(s);if(n.hasClass("active")){var e=n.height();t(".pm-testimonials-widget-quotes").css({height:e})}})},_runSlideShow:function(t){var i=this;switch(t){case"start":null!==e&&(clearInterval(e),e=null),o=!1,e=setInterval(function(){return i.isAnimating?void 0:i._jump(i.current+1)},this.options.slideShowSpeed);break;case"pause":clearInterval(e),e=null,o=!0}},_toggleNavControls:function(){this.current>=this.itemsCount?this.$navDots.eq(this.old).removeClass("pm-testimonial-active").end().eq(0).addClass("pm-testimonial-active"):this.$navDots.eq(this.old).removeClass("pm-testimonial-active").end().eq(this.current).addClass("pm-testimonial-active")},_jump:function(t){return t===this.current||this.isAnimating?!1:(this.isAnimating=!0,this.options.slideShow&&t>this.itemsCount-1&&(t=0),this.old=this.current,this.current=t,this._fade(),void this._toggleNavControls())},_fade:function(){function i(){n.each(function(i,n){var o=t(n);if(o.removeClass("active"),i==e){var a=o.height();s.$el.animate({height:a},500),o.fadeIn(r,l),o.addClass("active")}})}var s=this,n=this.$items,e=this.current,a=this.old,r=this.options.speed;n.each(function(s,n){var e=t(n);s==a&&e.fadeOut(r,i)});var l=t.proxy(function(){this.isAnimating=!1,s.options.slideShow&&o&&s._runSlideShow("start")},this)},destroy:function(){}};var a=function(t){i.console&&i.console.error(t)};t.fn.PMTestimonials=function(i){if("string"==typeof i){var s=Array.prototype.slice.call(arguments,1);this.each(function(){var n=t.data(this,"PMTestimonials");return n?t.isFunction(n[i])&&"_"!==i.charAt(0)?void n[i].apply(n,s):void a("no such method '"+i+"' for PMTestimonials instance"):void a("cannot call methods on PMTestimonials prior to initialization; attempted to call method '"+i+"'")})}else this.each(function(){var s=t.data(this,"PMTestimonials");s?s._init():s=t.data(this,"PMTestimonials",new t.PMTestimonials(i,this))});return this}}(jQuery,window);